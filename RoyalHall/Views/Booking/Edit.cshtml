@model RoyalHall.DTOs.BookingDTOs.GetBookingDTO

@{
    ViewData["Title"] = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string price = Convert.ToString(ViewBag.HallPrice);
    string price2 = Convert.ToString(ViewBag.HallPrice * 2);
}

<h3 class="text-center my-4" style="color: #800000;">Edit Booking</h3>

<form asp-action="Edit" asp-controller="Booking" method="post" class="container" style="max-width: 700px; background-color: #fefefe; padding: 30px; border-radius: 15px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    @* عرض رسائل التحقق *@
    <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

    @* معرف الحجز مخفي *@
    <input asp-for="BookingId" type="hidden" />

    @* <div class="mb-3"> *@
    @*     <label asp-for="PersonName" class="form-label" style="color: #800000;"></label> *@
    @*     <input asp-for="PersonName" class="form-control" /> *@
    @*     <span asp-validation-for="PersonName" class="text-danger"></span> *@
    @* </div> *@

    @* <div class="mb-3"> *@
    @*     <label asp-for="Email" class="form-label" style="color: #800000;"></label> *@
    @*     <input asp-for="Email" type="email" class="form-control" /> *@
    @*     <span asp-validation-for="Email" class="text-danger"></span> *@
    @* </div> *@

    @* <div class="mb-3"> *@
    @*     <label asp-for="PhoneNumber" class="form-label" style="color: #800000;"></label> *@
    @*     <input asp-for="PhoneNumber" class="form-control" /> *@
    @*     <span asp-validation-for="PhoneNumber" class="text-danger"></span> *@
    @* </div> *@

    @* <div class="mb-3"> *@
    @*     <label asp-for="Address" class="form-label" style="color: #800000;"></label> *@
    @*     <input asp-for="Address" class="form-control" /> *@
    @*     <span asp-validation-for="Address" class="text-danger"></span> *@
    @* </div> *@

    <div class="form-group">
        <label for="BookingType">Select Type</label>
        <select id="BookingType" name="BookingType" class="form-control" onchange="updatePrice()">
            <option value="">-- Select Type --</option>
            <option value="Night">Night</option>
            <option value="Mornning">Mornning</option>
            <option value="All day long">All day long</option>
        </select>
    </div>
    <div class="form-group">
        <label asp-for="BookingDate"></label>
        <input asp-for="BookingDate" type="date" class="form-control" />
    </div>
    @* <div class="form-group"> *@
    @*     <label asp-for="StartTime"></label> *@
    @*     <input asp-for="StartTime" type="time" class="form-control" /> *@
    @* </div> *@
    @* <div class="form-group"> *@
    @*     <label asp-for="EndTime"></label> *@
    @*     <input asp-for="EndTime" type="time" class="form-control" /> *@
    @* </div> *@
    <div class="form-group">
        <label for="TotalPrice">Total Price</label>
        <input type="text" id="TotalPrice" name="TotalPrice" class="form-control" readonly />
    </div>

    <div class="text-center">
        <input type="submit" value="Save Changes" class="btn btn-success me-2" />
        <input type="button" value="Cancel" class="btn btn-secondary" onclick="history.back()" />
    </div>
</form>

<script>
    function updatePrice() {
        var hallName = document.getElementById("BookingType").value;
        var totalPrice = document.getElementById("TotalPrice");

        switch (hallName) {
            case "Night":
                totalPrice.value = @price;  // السعر لقاعة Red Royal
                break;
            case "Mornning":
                totalPrice.value = @price;  // السعر لقاعة White Royal
                break;
            case "All day long":
                totalPrice.value = @price2;  // السعر لقاعة Golden Royal
                break;
            default:
                totalPrice.value = "";  // إذا لم يتم اختيار قاعة
        }
    }
</script>
